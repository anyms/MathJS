"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}var MathJS=function(){function t(e){_classCallCheck(this,t),this.checkNumber(e),this.value=e.toString()}return _createClass(t,[{key:"checkNumber",value:function(e){if(isNaN(e.toString())||""===e.toString().trim())throw"Error: '".concat(e,"' is not a number")}},{key:"toString",value:function(){return this.value}},{key:"abs",value:function(){this.value=Math.abs(this.value)}},{key:"acos",value:function(){this.value=Math.acos(this.value)}},{key:"asin",value:function(){this.value=Math.asin(this.value)}},{key:"atan",value:function(){this.value=Math.atan(this.value)}},{key:"atan2",value:function(e){this.value=Math.atan2(this.value,e)}},{key:"ceil",value:function(){this.value=Math.ceil(this.value)}},{key:"cos",value:function(){this.value=Math.cos(this.value)}},{key:"exp",value:function(){this.value=Math.exp(this.value)}},{key:"floor",value:function(){this.value=Math.floor(this.value)}},{key:"log",value:function(){this.value=Math.log(this.value)}},{key:"pow",value:function(e){this.value=Math.pow(this.value,e)}},{key:"sin",value:function(){this.value=Math.sin(this.value)}},{key:"sqrt",value:function(){this.value=Math.sqrt(this.value)}},{key:"tan",value:function(){this.value=Math.tan(this.value)}},{key:"toAlgebraic",value:function(e,t){if(e=e.toString(),t=t.toString(),-1===e.indexOf(".")&&-1===t.indexOf("."))return{num1:parseInt(e),num2:parseInt(t),base:1};-1===e.indexOf(".")?e+=".0":t+=".0";var a,i=Math.pow(10,e.split(".")[1].length),u=Math.pow(10,t.split(".")[1].length);return e=parseInt(e.replace(".","")),t=parseInt(t.replace(".","")),u<i?t*=(a=i)/u:e*=(a=u)/i,{num1:e,num2:t,base:a}}},{key:"add",value:function(e){this.checkNumber(e);var t=this.toAlgebraic(this.value,e);return this.value=String((t.num1+t.num2)/t.base),this}},{key:"divide",value:function(e){this.checkNumber(e);var t=this.toAlgebraic(this.value,e);return this.value=String(t.num1/t.num2),this}},{key:"divideAndReminder",value:function(e){this.checkNumber(e);var t=this.toAlgebraic(this.value,e);return this.divide(e),String(t.num1%t.num2/t.base)}},{key:"precision",value:function(e){return null==e?0:(this.checkNumber(e),this.value=String(Number(this.value).toPrecision(e)),this)}},{key:"round",value:function(e){return this.value=parseFloat(this.value),this.value=void 0===e?Math.round(this.value):Math.round(this.value*Math.pow(10,e))/Math.pow(10,e),this.value=String(this.value),this}},{key:"reminder",value:function(e){var t=this.toAlgebraic(this.value,e);return this.value=String(t.num1%t.num2/t.base),this}},{key:"subtract",value:function(e){this.checkNumber(e);var t=this.toAlgebraic(this.value,e);return this.value=String((t.num1-t.num2)/t.base),this}},{key:"multiply",value:function(e){this.checkNumber(e);var t=this.toAlgebraic(this.value,e);return this.value=String(t.num1*t.num2/(t.base*t.base)),this}}]),t}();function mathjs(e){return new MathJS(e)}Object.setPrototypeOf(MathJS,Math);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hdGguanMiXSwibmFtZXMiOlsiTWF0aEpTIiwibnVtIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsImNoZWNrTnVtYmVyIiwidmFsdWUiLCJ0b1N0cmluZyIsImlzTmFOIiwidHJpbSIsImNvbmNhdCIsIk1hdGgiLCJhYnMiLCJhY29zIiwiYXNpbiIsImF0YW4iLCJudW0yIiwiYXRhbjIiLCJjZWlsIiwiY29zIiwiZXhwIiwiZmxvb3IiLCJsb2ciLCJleHBvbmVudCIsInBvdyIsInNpbiIsInNxcnQiLCJ0YW4iLCJudW0xIiwiaW5kZXhPZiIsInBhcnNlSW50IiwiYmFzZSIsImJhc2VOdW0iLCJudW0xQmFzZSIsInNwbGl0IiwibGVuZ3RoIiwicmVwbGFjZSIsIm51bTJCYXNlIiwiYWxnZWJyYWljIiwidG9BbGdlYnJhaWMiLCJTdHJpbmciLCJkaXZpZGUiLCJ4IiwidW5kZWZpbmVkIiwidG9QcmVjaXNpb24iLCJkZWNQb3MiLCJwYXJzZUZsb2F0Iiwicm91bmQiLCJkaWYiLCJhbGciLCJtYXRoanMiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiJdLCJtYXBwaW5ncyI6InVaQUFNQSxrQkFDRixTQUFBQSxFQUFZQyxHQUFLQyxnQkFBQUMsS0FBQUgsR0FDYkcsS0FBS0MsWUFBWUgsR0FDakJFLEtBQUtFLE1BQVFKLEVBQUlLLG9FQUdUTCxHQUNSLEdBQUlNLE1BQU1OLEVBQUlLLGFBQXlDLEtBQTFCTCxFQUFJSyxXQUFXRSxPQUN4QyxLQUFBLFdBQUFDLE9BQWlCUixFQUFqQix3REFLSixPQUFPRSxLQUFLRSxvQ0FUZkYsS0FBQUUsTUFBQUssS0FBQUMsSUFBQVIsS0FBQUUsc0NBYVFGLEtBQUtFLE1BQVFLLEtBQUtFLEtBQUtULEtBQUtFLHNDQUM1QkYsS0FBS0UsTUFBUUssS0FBS0csS0FBS1YsS0FBS0Usc0NBQzVCRixLQUFLRSxNQUFRSyxLQUFLSSxLQUFLWCxLQUFLRSxxQ0FDL0JVLEdBQVFaLEtBQUtFLE1BQVFLLEtBQUtNLE1BZGZiLEtBQUFF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aEIsS0FBSVgsWUFBSkgsR0FISixJQUFBb0MsRUFJT2xDLEtBQUFtQyxZQUFBbkMsS0FBQUUsTUFBQUosR0FFSDhCLE9BREFnQixLQUFHMUMsTUFBRytCLFFBQVdKLEVBQWpCTCxLQUFBVSxFQUFBdEIsTUFBQXNCLEVBQUFQLE1BQ08zQixzQ0F5RU5GLEdBckVMRSxLQUFPQyxZQUFBSCxHQUNIMEIsSUFBSXFCLEVBREQ3QyxLQUFBbUMsWUFBQW5DLEtBQUFFLE1BQUFKLEdBR0g2QixPQURBZixLQUFJVixNQUZEa0MsT0FBQVMsRUFBQXJCLEtBQUFxQixFQUFBakMsTUFBQWlDLEVBQUFsQixLQUFBa0IsRUFBQWxCLE9BR0dDLGNBTVYsU0FBQWtCLE9BQUs3QyxHQUNMLE9BQUlpQyxJQUFBQSxPQUFZcEMsR0FtRXhCaUQsT0FBT0MsZUFBZW5ELE9BQVFVIiwiZmlsZSI6Im1hdGgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgTWF0aEpTIHtcclxuICAgIGNvbnN0cnVjdG9yKG51bSkge1xyXG4gICAgICAgIHRoaXMuY2hlY2tOdW1iZXIobnVtKTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gbnVtLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tOdW1iZXIobnVtKSB7XHJcbiAgICAgICAgaWYgKGlzTmFOKG51bS50b1N0cmluZygpKSB8fCBudW0udG9TdHJpbmcoKS50cmltKCkgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgdGhyb3cgYEVycm9yOiAnJHtudW19JyBpcyBub3QgYSBudW1iZXJgO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0b1N0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBhYnMoKSB7IHRoaXMudmFsdWUgPSBNYXRoLmFicyh0aGlzLnZhbHVlKTsgfVxyXG4gICAgYWNvcygpIHsgdGhpcy52YWx1ZSA9IE1hdGguYWNvcyh0aGlzLnZhbHVlKTsgfVxyXG4gICAgYXNpbigpIHsgdGhpcy52YWx1ZSA9IE1hdGguYXNpbih0aGlzLnZhbHVlKTsgfVxyXG4gICAgYXRhbigpIHsgdGhpcy52YWx1ZSA9IE1hdGguYXRhbih0aGlzLnZhbHVlKTsgfVxyXG4gICAgYXRhbjIobnVtMikgeyB0aGlzLnZhbHVlID0gTWF0aC5hdGFuMih0aGlzLnZhbHVlLCBudW0yKTsgfVxyXG4gICAgY2VpbCgpIHsgdGhpcy52YWx1ZSA9IE1hdGguY2VpbCh0aGlzLnZhbHVlKTsgfVxyXG4gICAgY29zKCkgeyB0aGlzLnZhbHVlID0gTWF0aC5jb3ModGhpcy52YWx1ZSk7IH1cclxuICAgIGV4cCgpIHsgdGhpcy52YWx1ZSA9IE1hdGguZXhwKHRoaXMudmFsdWUpOyB9XHJcbiAgICBmbG9vcigpIHsgdGhpcy52YWx1ZSA9IE1hdGguZmxvb3IodGhpcy52YWx1ZSk7IH1cclxuICAgIGxvZygpIHsgdGhpcy52YWx1ZSA9IE1hdGgubG9nKHRoaXMudmFsdWUpOyB9XHJcbiAgICBwb3coZXhwb25lbnQpIHsgdGhpcy52YWx1ZSA9IE1hdGgucG93KHRoaXMudmFsdWUsIGV4cG9uZW50KTsgfVxyXG4gICAgc2luKCkgeyB0aGlzLnZhbHVlID0gTWF0aC5zaW4odGhpcy52YWx1ZSk7IH1cclxuICAgIHNxcnQoKSB7IHRoaXMudmFsdWUgPSBNYXRoLnNxcnQodGhpcy52YWx1ZSk7IH1cclxuICAgIHRhbigpIHsgdGhpcy52YWx1ZSA9IE1hdGgudGFuKHRoaXMudmFsdWUpOyB9XHJcblxyXG4gICAgLypcclxuICAgIEZvbGxvd2luZyBtZXRob2QgaGFuZGxlcyB0aGUgYGFsZ2VicmFpYyBmcmFjdGlvbnNgIHdoaWNoIGFsbG93cyB0byBkbyBpbnRlZ2VyIGNhbGN1bGF0aW9uIG9uIGZsb2F0aW5nIHBvaW50c1xyXG4gICAgKi9cclxuICAgIHRvQWxnZWJyYWljKG51bTEsIG51bTIpIHtcclxuICAgICAgICBudW0xID0gbnVtMS50b1N0cmluZygpO1xyXG4gICAgICAgIG51bTIgPSBudW0yLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgaWYgKG51bTEuaW5kZXhPZihcIi5cIikgPT09IC0xICYmIG51bTIuaW5kZXhPZihcIi5cIikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBudW0xOiBwYXJzZUludChudW0xKSxcclxuICAgICAgICAgICAgICAgIG51bTI6IHBhcnNlSW50KG51bTIpLFxyXG4gICAgICAgICAgICAgICAgYmFzZTogMVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKG51bTEuaW5kZXhPZihcIi5cIikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIG51bTEgKz0gXCIuMFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG51bTIgKz0gXCIuMFwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbnVtMUJhc2UgPSBNYXRoLnBvdygxMCwgbnVtMS5zcGxpdChcIi5cIilbMV0ubGVuZ3RoKVxyXG4gICAgICAgIGxldCBudW0yQmFzZSA9IE1hdGgucG93KDEwLCBudW0yLnNwbGl0KFwiLlwiKVsxXS5sZW5ndGgpXHJcblxyXG4gICAgICAgIG51bTEgPSBwYXJzZUludChudW0xLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcclxuICAgICAgICBudW0yID0gcGFyc2VJbnQobnVtMi5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XHJcblxyXG4gICAgICAgIGxldCBkaWY7XHJcbiAgICAgICAgbGV0IGJhc2VOdW07XHJcblxyXG4gICAgICAgIGlmIChudW0xQmFzZSA+IG51bTJCYXNlKSB7XHJcbiAgICAgICAgICAgIGRpZiA9IG51bTFCYXNlIC8gbnVtMkJhc2U7XHJcbiAgICAgICAgICAgIGJhc2VOdW0gPSBudW0xQmFzZTtcclxuICAgICAgICAgICAgbnVtMiA9IG51bTIgKiBkaWY7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGlmID0gbnVtMkJhc2UgLyBudW0xQmFzZTtcclxuICAgICAgICAgICAgYmFzZU51bSA9IG51bTJCYXNlO1xyXG4gICAgICAgICAgICBudW0xID0gbnVtMSAqIGRpZjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG51bTE6IG51bTEsXHJcbiAgICAgICAgICAgIG51bTI6IG51bTIsXHJcbiAgICAgICAgICAgIGJhc2U6IGJhc2VOdW1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYWRkIHZhbHVlXHJcbiAgICBhZGQobnVtKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja051bWJlcihudW0pO1xyXG4gICAgICAgIGxldCBhbGdlYnJhaWMgPSB0aGlzLnRvQWxnZWJyYWljKHRoaXMudmFsdWUsIG51bSk7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IFN0cmluZyhcclxuICAgICAgICAgICAgKGFsZ2VicmFpYy5udW0xICsgYWxnZWJyYWljLm51bTIpIC8gYWxnZWJyYWljLmJhc2VcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGRpdmlkZSB2YWx1ZVxyXG4gICAgZGl2aWRlKG51bSkge1xyXG4gICAgICAgIHRoaXMuY2hlY2tOdW1iZXIobnVtKTtcclxuICAgICAgICBsZXQgYWxnZWJyYWljID0gdGhpcy50b0FsZ2VicmFpYyh0aGlzLnZhbHVlLCBudW0pO1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSBTdHJpbmcoYWxnZWJyYWljLm51bTEgLyBhbGdlYnJhaWMubnVtMik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZGl2aWRlIHRoZSB2YWx1ZSBhbmQgcmV0dXJuIHJlbWluZGVyXHJcbiAgICBkaXZpZGVBbmRSZW1pbmRlcihudW0pIHtcclxuICAgICAgICB0aGlzLmNoZWNrTnVtYmVyKG51bSk7XHJcbiAgICAgICAgbGV0IGFsZ2VicmFpYyA9IHRoaXMudG9BbGdlYnJhaWModGhpcy52YWx1ZSwgbnVtKTtcclxuICAgICAgICB0aGlzLmRpdmlkZShudW0pO1xyXG4gICAgICAgIHJldHVybiBTdHJpbmcoKGFsZ2VicmFpYy5udW0xICUgYWxnZWJyYWljLm51bTIpIC8gYWxnZWJyYWljLmJhc2UpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcmVjaXNpb24oeCkge1xyXG4gICAgICAgIGlmICh4ID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2hlY2tOdW1iZXIoeCk7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IFN0cmluZyhOdW1iZXIodGhpcy52YWx1ZSkudG9QcmVjaXNpb24oeCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHJvdW5kKGRlY1Bvcykge1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSBwYXJzZUZsb2F0KHRoaXMudmFsdWUpO1xyXG4gICAgICAgIGlmIChkZWNQb3MgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gTWF0aC5yb3VuZCh0aGlzLnZhbHVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gTWF0aC5yb3VuZCh0aGlzLnZhbHVlICogTWF0aC5wb3coMTAsIGRlY1BvcykpIC8gTWF0aC5wb3coMTAsIGRlY1Bvcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudmFsdWUgPSBTdHJpbmcodGhpcy52YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtaW5kZXIobnVtKSB7XHJcbiAgICAgICAgbGV0IGFsZ2VicmFpYyA9IHRoaXMudG9BbGdlYnJhaWModGhpcy52YWx1ZSwgbnVtKTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gU3RyaW5nKChhbGdlYnJhaWMubnVtMSAlIGFsZ2VicmFpYy5udW0yKSAvIGFsZ2VicmFpYy5iYXNlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBzdWJ0cmFjdChudW0pIHtcclxuICAgICAgICB0aGlzLmNoZWNrTnVtYmVyKG51bSk7XHJcbiAgICAgICAgbGV0IGFsZ2VicmFpYyA9IHRoaXMudG9BbGdlYnJhaWModGhpcy52YWx1ZSwgbnVtKTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gU3RyaW5nKChhbGdlYnJhaWMubnVtMSAtIGFsZ2VicmFpYy5udW0yKSAvIGFsZ2VicmFpYy5iYXNlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAgIFxyXG4gICAgbXVsdGlwbHkobnVtKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja051bWJlcihudW0pO1xyXG4gICAgICAgIGxldCBhbGcgPSB0aGlzLnRvQWxnZWJyYWljKHRoaXMudmFsdWUsIG51bSk7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IFN0cmluZygoYWxnLm51bTEgKiBhbGcubnVtMikgLyAoYWxnLmJhc2UgKiBhbGcuYmFzZSkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxufVxyXG5cclxuT2JqZWN0LnNldFByb3RvdHlwZU9mKE1hdGhKUywgTWF0aCk7XHJcblxyXG5cclxuZnVuY3Rpb24gbWF0aGpzKG51bSkge1xyXG4gICAgcmV0dXJuIG5ldyBNYXRoSlMobnVtKTtcclxufSJdfQ==
